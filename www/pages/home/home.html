<ion-view title="Home" ng-cloak >

  <div class="bar bar-subheader bar-stable">
      <ion-segment ng-model="feedType" full="true" positive>
        <ion-segment-button value="'1''" ng-click="vm.changeFeedType(1)">
          Regular
        </ion-segment-button>
        <ion-segment-button value="'2''" ng-click="vm.changeFeedType(2)">
          Professional
        </ion-segment-button>
    </ion-segment>
  </div>
  
  <ion-content padding="true" class="has-subheader">

    <ion-refresher
      pulling-text="Pull to refresh..."
      on-refresh="vm.doRefresh()">
    </ion-refresher>
    

    <div class="list card" id="home-card23">
      <ion-item class="item-avatar item-icon-right" id="home-list-item11">
        <img ng-src="{{vm.apiurl}}{{vm.user.profileAvatar}}">
        <h2>{{vm.user.full_name}}</h2>
        <p>Good morning!</p>
        <i class="icon ion-gear-b"></i>
      </ion-item>
      <form class="list">
        <label class="item item-input">
          <textarea ng-model="vm.status.text" placeholder="What's on your mind?"></textarea></label>
      </form>
      <div id="home-button-bar1" class="button-bar">
        <button id="home-button4" style="font-weight:200;font-size:5px;" class="button button-light button-small button-block button-icon no-padding icon ion-camera"></button>
        <button id="home-button10" style="font-weight:200;font-size:5px;" class="button button-light button-small button-block button-icon no-padding icon ion-happy"></button>
        <button id="home-button11" style="font-weight:200;font-size:5px;" class="button button-light button-small button-block button-icon no-padding icon ion-location"></button>
        <button id="home-button12" style="font-weight:200;font-size:5px;" class="button button-light button-small button-block button-icon no-padding icon ion-music-note"></button>
        <button id="home-button13" style="font-weight:200;font-size:5px;" class="button button-light button-small button-block button-icon no-padding icon ion-videocamera"></button>
        <button id="home-button14" style="font-weight:200;font-size:5px;" class="button button-light button-small button-block button-icon no-padding icon ion-android-attach"></button>
        <button ng-click="vm.createPost(vm.status)" style="font-weight:200;font-size:5px;" class="button button-light button-small button-block button-icon no-padding icon ion-android-send"></button>
      </div>
    </div>


    <ion-list>
      <div ng-repeat="p in vm.feeds" ng-switch on="p.post.post_type">
        <text-post ng-switch-when="text" post="p.post"></text-post>
        <image-post ng-switch-when="images" post="p.post"></image-post>
        <audio-post ng-switch-when="audio" post="p.post"></audio-post>
        <attachment-post ng-switch-when="attachment" post="p.post"></attachment-post>
        <video-post ng-switch-when="video" post="p.post"></video-post>
        <album-post ng-switch-when="album" post="p.post"></album-post>
      </div>
    </ion-list>
   
   <ion-infinite-scroll
    ng-if="!vm.morePostsCanBeLoaded"
    icon="ion-loading-c" 
    distance="10%" 
    on-infinite="vm.loadMorePosts()">
  </ion-infinite-scroll>
    
  </ion-content>
</ion-view>